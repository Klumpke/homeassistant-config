title: Home
path: home
icon: 'mdi:home'
# popup_cards:
#   !include ../popup-cards/notification-popup.yaml
cards:
  - type: vertical-stack
    cards:
      - type: custom:decluttering-card
        template: header
        variables:
          - content: '##### Overzicht'

      - !include ../includes/simple-weather-card.yaml

      - type: horizontal-stack
        cards:
          - !include ../includes/blank-card.yaml

          # Left photo
          - type: conditional
            conditions:
              - entity: person.joyce
                state_not: "home"
            card:
              type: custom:decluttering-card
              template: person
              variables:
                - name: person.joyce
                - email: sensor.mail_joyce
                - direction: left
                - image: /local/images/joyce_small_away.png
                - postnl: sensor.postnl_joyce_packages
                - reistijd: sensor.reistijd_joyce
                - battery: sensor.joyce_battery_level
                - icon: mdi:home
                - tap_action:
                    action: navigate
                    navigation_path: /lovelace/joyce
                    haptic: light
          - type: conditional
            conditions:
              - entity: person.joyce
                state: "home"
            card:
              type: custom:decluttering-card
              template: person
              variables:
                - name: person.joyce
                - email: sensor.mail_joyce
                - direction: left
                - image: /local/images/joyce_small.png
                - postnl: sensor.postnl_joyce_packages
                - reistijd: sensor.reistijd_joyce_dolfijn_t_schrijverke
                - battery: sensor.joyce_battery_level
                - icon: mdi:office-building
                - tap_action:
                    action: navigate
                    navigation_path: /lovelace/joyce
                    haptic: light

          # Right photo
          - type: conditional
            conditions:
              - entity: person.jeroen
                state_not: "home"
            card:
              type: custom:decluttering-card
              template: person
              variables:
                - name: person.jeroen
                - email: sensor.mail_jeroen
                - direction: right
                - image: /local/images/jeroen_small_away.png
                - postnl: sensor.postnl_jeroen_packages
                - reistijd: sensor.reistijd_jeroen
                - battery: sensor.iklumpke_battery_level
                - icon: mdi:home
                - tap_action:
                    action: navigate
                    navigation_path: /lovelace/jeroen
                    haptic: light
          - type: conditional
            conditions:
              - entity: person.jeroen
                state: "home"
            card:
              type: custom:decluttering-card
              template: person
              variables:
                - name: person.jeroen
                - email: sensor.mail_jeroen
                - direction: right
                - image: /local/images/jeroen_small.png
                - postnl: sensor.postnl_jeroen_packages
                - reistijd: sensor.reistijd_jeroen_alfion
                - battery: sensor.iklumpke_battery_level
                - icon: mdi:office-building
                - tap_action:
                    action: navigate
                    navigation_path: /lovelace/jeroen
                    haptic: light

          - !include ../includes/blank-card.yaml

# Frontpage Shortcut Buttons, These are once again conditional
      # First Row
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - !include ../includes/blank-card.yaml
              # - type: custom:decluttering-card
              #   template: button
              #   variables:
              #     - name: Present
              #     - label: Nu aan
              #     - icon: mdi:power-cycle
              #     - show_state: false
              #     - tap_action:
              #         action: navigate
              #         navigation_path: /lovelace/currently-on
              #         haptic: light
              #     - hold_action:
              #         action: navigate
              #         navigation_path: /lovelace/currently-on
              #         haptic: light
              #     - entity: input_boolean.dummy1
              #     - margin-right: 40px
              #     - opacity: 0.8
              - type: custom:decluttering-card
                template: button
                variables:
                  - name: Onderhoud
                  - label: '&nbsp;'
                  - icon: mdi:broom
                  - show_state: false
                  - tap_action:
                      action: navigate
                      navigation_path: /lovelace/maintenance
                      haptic: light
                  - hold_action:
                      action: navigate
                      navigation_path: /lovelace/maintenance
                      haptic: light
                  - entity: input_boolean.dummy1
                  - margin-right: 40px
                  - opacity: 0.8
              - type: custom:decluttering-card
                template: button
                variables:
                  - name: Verlichting
                  - label: Bediening
                  - icon: mdi:floor-lamp
                  - show_state: false
                  - tap_action:
                      action: navigate
                      navigation_path: /lovelace/lights
                      haptic: light
                  - hold_action:
                      action: more-info
                      haptic: light
                  - entity: input_boolean.notification_current_lights
                  - margin-right: 40px
                  - opacity: 0.8
                  - notification: "[[[ if (states['sensor.current_lights_on'].state > 0) return `${states['sensor.current_lights_on'].state}`; else return '&nbsp' ]]]"
                  - custom_fields:
                      notification:
                        - background-color: "[[[ if (states['sensor.current_lights_on'].state == 0) return 'var(--card-color-off)'; else return 'var(--label-color-off)'; ]]]"
                        - color: var(--notification-badge-color)
                        - border-radius: 50%
                        - overflow: visible
                        - position: absolute
                        - right: 7%
                        - top: 7%
                        - height: 22px
                        - width: 22px
                        - font-size: 11px
                        - line-height: 20px
              - type: custom:decluttering-card
                template: button
                variables:
                  - name: Apparaten
                  - label: Bediening
                  - icon: mdi:power-plug
                  - show_state: false
                  - tap_action:
                      action: navigate
                      navigation_path: /lovelace/devices
                      haptic: light
                  - hold_action:
                      action: more-info
                      haptic: light
                  - entity: input_boolean.notification_current_devices
                  - margin-right: 40px
                  - opacity: 0.8
                  - notification: "[[[ if (states['sensor.current_devices_on'].state > 0) return `${states['sensor.current_devices_on'].state}`; else return '&nbsp' ]]]" # Changed/Added in 0.13.0
                  - custom_fields:  # Changed/Added in 0.13.0 below
                      notification:
                        - background-color: "[[[ if (states['sensor.current_devices_on'].state == 0) return 'var(--card-color-off)'; else return 'var(--label-color-off)'; ]]]"
                        - color: var(--notification-badge-color)
                        - border-radius: 50%
                        - overflow: visible
                        - position: absolute
                        - right: 7%
                        - top: 7%
                        - height: 22px
                        - width: 22px
                        - font-size: 11px
                        - line-height: 20px
              - type: custom:decluttering-card
                template: button
                variables:
                  - name: Security
                  - label: Panel
                  - icon: mdi:cctv
                  - show_state: false
                  - tap_action:
                      action: navigate
                      navigation_path: /lovelace/security
                      haptic: light
                  - hold_action:
                      action: more-info
                      haptic: light
                  - entity: input_boolean.notification_current_sensors
                  - margin-right: 40px
                  - opacity: 0.8
                  - notification: "[[[ if (states['sensor.current_sensors_on'].state > 0) return `${states['sensor.current_sensors_on'].state}`; else return '&nbsp' ]]]"
                  - custom_fields:
                      notification:
                        - background-color: "[[[ if (states['sensor.current_sensors_on'].state == 0) return 'var(--card-color-off)'; else return 'var(--label-color-off)'; ]]]"
                        - color: var(--notification-badge-color)
                        - border-radius: 50%
                        - overflow: visible
                        - position: absolute
                        - right: 7%
                        - top: 7%
                        - height: 22px
                        - width: 22px
                        - font-size: 11px
                        - line-height: 20px
              - !include ../includes/blank-card.yaml

      # Second Row
          - type: horizontal-stack
            cards:
              - !include ../includes/blank-card.yaml
              # - type: custom:button-card
              #   color_type: blank-card
              #   aspect_ratio: 1/1
              - type: custom:decluttering-card
                template: button
                variables:
                  - name: Scenes
                  - label: Presets
                  - icon: mdi:google-pages
                  - show_state: false
                  - tap_action:
                      action: navigate
                      navigation_path: /lovelace/scenes
                      haptic: light
                  - hold_action:
                      action: navigate
                      navigation_path: /lovelace/scenes
                      haptic: light
                  - entity: input_boolean.dummy1
                  - margin-right: 40px
                  - opacity: 0.8
              - type: custom:decluttering-card
                template: button
                variables:
                  - name: Automations
                  - label: Aan / uit
                  - icon: mdi:alpha-a-box
                  - show_state: false
                  - tap_action:
                      action: navigate
                      navigation_path: /lovelace/automations
                      haptic: light
                  - hold_action:
                      action: navigate
                      navigation_path: /lovelace/automations
                      haptic: light
                  - entity: input_boolean.dummy1
                  - margin-right: 40px
                  - opacity: 0.8
              - type: custom:decluttering-card
                template: button
                variables:
                  - name: Stofzuiger
                  - label: Henry S55
                  - icon: mdi:robot-vacuum
                  - show_state: false
                  - tap_action:
                      action: navigate
                      navigation_path: /lovelace/vacuum
                      haptic: light
                  - hold_action:
                      action: navigate
                      navigation_path: /lovelace/vacuum
                      haptic: light
                  - entity: input_boolean.dummy1
                  - margin-right: 40px
                  - opacity: 0.8
              - type: custom:decluttering-card
                template: button
                variables:
                  - name: Menu
                  - label: Alle Opties
                  - icon: mdi:menu
                  - show_state: false
                  - tap_action:
                      action: navigate
                      navigation_path: /lovelace/menu
                      haptic: light
                  - hold_action:
                      action: navigate
                      navigation_path: /lovelace/menu
                      haptic: light
                  - entity: input_boolean.dummy1
                  - margin-right: 40px
                  - opacity: 0.8
              - !include ../includes/blank-card.yaml

  # Notifications Panel for the frontpage
  - !include ../notifications/notifications.yaml